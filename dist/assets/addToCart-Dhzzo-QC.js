import"./footer-CR3sAJYi.js";import{g as d,s as S,u as C,p as P}from"./showToast-CS_XP_8F.js";const y=()=>{let o=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),r=document.querySelector(".productTax"),u=d().reduce((l,t)=>{let a=parseInt(t.price)||0;return l+a},0);r.textContent=`₹${(.05*u).toFixed(2)}`,o.textContent=`₹${u}`,e.textContent=`₹${(u+.05*u).toFixed(2)}`},q=(o,e)=>{let c=d().find(u=>u.id===o),n=1;return c&&(n=c.quantity,e=c.price),{quantity:n,price:e}},f=(o,e,r,c)=>{const n=document.querySelector(`#card${e}`),u=n.querySelector(".productQuantity"),l=n.querySelector(".productPrice");let t=1,a=0,i=d(),m=i.find(s=>s.id===e);m?(t=m.quantity,a=m.price):(a=c,c=c),o.target.className==="cartIncrement"&&(t<r?t+=1:t===r&&(t=r,a=c*r)),o.target.className==="cartDecrement"&&t>1&&(t-=1),a=Number((c*t).toFixed(2));let p={id:e,quantity:t,price:a};p=i.map(s=>s.id===e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),u.innerText=t,l.innerText=a,y()},g=o=>{let e=d();e=e.filter(c=>c.id!==o),localStorage.setItem("cartProductLS",JSON.stringify(e));let r=document.getElementById(`card${o}`);r&&(r.remove(),S("delete",o)),C(e),y()};let x=d(),T=P.filter(o=>x.some(e=>e.id===o.id));const F=document.querySelector("#productCartContainer"),E=document.querySelector("#productCartTemplate"),L=()=>{T.forEach(o=>{const{category:e,id:r,image:c,name:n,stock:u,price:l}=o;let t=document.importNode(E.content,!0);const a=q(r,l);t.querySelector("#cardValue").setAttribute("id",`card${r}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=n,t.querySelector(".productImage").src=c,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".stockElement").addEventListener("click",i=>{f(i,r,u,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>g(r)),F.appendChild(t)})};L();y();
